policy-combining-algorithm: deny-unless-permit
policies:
  policy1:
    target:
      logical-expression: or
      conditions:
      - leftArg: action-id
        function: equal
        rightArg: Courses.CourseUnitEdit
      - leftArg: action-id
        function: equal
        rightArg: Courses.CourseUnitDelete
    rules:
      combining-algorithm: deny-unless-permit
      rule1:
        effect: permit
        negation: false
        logical-expression: and
        conditions:
        - leftArg: object.CourseUnit.authorId
          function: equal
          rightArg: user.personId
        - leftArg: object.CourseUnit.status
          function: equal
          rightArg: DRAFT
      rule2:
        effect: permit
        negation: false
        logical-expression: and
        conditions:
        - leftArg: object.CourseUnit.curatorId
          function: equal
          rightArg: user.personId
        - leftArg: object.CourseUnit.status
          function: equal
          rightArg: DRAFT